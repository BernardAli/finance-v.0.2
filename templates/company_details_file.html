{% load mathfilters %}
{% load humanize %}
{% load static %}

<!doctype html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport"
          content="width=device-width, user-scalable=no, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC" crossorigin="anonymous">
    <title>Document</title>

    <link href="{% static 'vendor/boxicons/css/boxicons.min.css' %}" rel="stylesheet">
    <link href="https://cdn.datatables.net/1.10.25/css/jquery.dataTables.min.css" rel="stylesheet">
    <script src="{% static 'vendor/simple-datatables/simple-datatables.js' %}"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/echarts@5.4.2/dist/echarts.min.js"></script>
    <script src="{% static 'vendor/apexcharts/apexcharts.min.js' %}"></script>

    <style>
    </style>
</head>
<body>
    <h1>{{ company.name }} Report as at <small>{{ price.date|date:"Y/m/d" }}</small></h1>

    <div>
        <strong>{{ company.country.currency_code }} {{ price.price }}
            <small>
                {% if price.price|sub:previous_close.price|div:previous_close.price >= 0 %}
                {% if price.price|sub:previous_close.price|div:previous_close.price > 0 %}
                <span style="font-weight: bold; color: green"><i class="bx bxs-up-arrow-alt"></i>({{price.price|sub:previous_close.price|div:previous_close.price|mul:100|floatformat:2 }}%)</span>
                {% else %}
                <span style="font-weight: bold; color: blue"><i class="bx bxs-right-arrow-alt"></i>({{price.price|sub:previous_close.price|div:previous_close.price|mul:100|floatformat:2 }}%)</span>
                {% endif %}
                {% else %}
                <span style="font-weight: bold; color: red"><i class="bx bxs-down-arrow-alt"></i>({{price.price|sub:previous_close.price|div:previous_close.price|mul:100|floatformat:2 }}%)</span>
                {% endif %}
            </small>
        </strong>
    </div>

    <img src=".{{ company.logo.url }}" alt="" height="100">

    <h1>{{ company.name }} Summary</h1>

    <h1>Profile</h1>
    <p>{{ company.summary }}</p>

    <h1>Basic Info.</h1>
    <p><strong>Industry:</strong> {% for industry in company.industry.all %}<a href="{{ industry.get_absolute_url }}">{{ industry }}</a>{% endfor %}</p>
    <p><strong>Country:</strong> <a href="{% url 'country' company.country.slug %}">{{ company.country }}</a></p>
    <p><strong>Auditors:</strong> {% for auditor in auditor %}<a href="{{ auditor.get_absolute_url }}">{{ auditor.name }}</a>{% empty %}No Auditor{% endfor %}</p>
    <p><strong>Secretary:</strong> {% for secretary in secretaries %}{{ secretary.name }}{% empty %}No Secretary{% endfor %}</p>
    <p><strong>Registrar:</strong> {% for registrar in registrars %}{{ registrar.name }}{% empty %}No Registrar{% endfor %}</p>
    <p><strong>Registered Office:</strong> {{ company.registered_office }}</p>
    <p><strong>Incorporate Date:</strong> {{ company.incorporated_date }}</p>
    <p><strong>Employees:</strong> {{ company.employees }}</p>

    <h1>Stock Price Summary</h1>
<p><strong>Previous Close: </strong>{{ company.country.currency_code }} {{ previous_close.price }}</p>

                                            <p><strong>Volume:</strong> {{ price.volume }}</p>
                                            <p><strong>Traded Value:</strong> {{ company.country.currency_code }} {{ price.volume|mul:price.price }}</p>
                                            <p><strong>Year Range:</strong> {{ company.country.currency_code }} {{ high_52.price__max }} - {{ company.country.currency_code }} {{ low_52.price__min }}</p>
                                            <p><strong>Market Cap:</strong> {{ company.country.currency_code }} {% for detail in share %}{{ detail.issued_shares|mul:price.price|div:1000000|floatformat:2|intcomma }}{% endfor %} million</p
                                            <p><strong>Shares Outstanding:</strong> {% for detail in share %} {{ detail.issued_shares|intcomma }}{% endfor %}</p>
<p><strong>Open:</strong> {{ company.country.currency_code }} {{ price.price }}</p>
                                            <p><strong>1-Yr Change:</strong>
                                                {% if price.price|sub:price_year_start.price >= 0 %}
                                                    <span class="change-up">{{ company.country.currency_code }} {{ price.price|sub:price_year_start.price|floatformat:2}}</span>
                                                {% else %}
                                                    <span class="change-down">{{ company.country.currency_code }} {{ price.price|sub:price_year_start.price|floatformat:2}}</span>
                                                {% endif %}
                                            </p>
                                            <p><strong>YTD(%):</strong>
                                                {% if price.price|sub:price_year_start.price|mul:100|div:price_year_start.price >= 0 %}
                                                    {% if price.price|sub:price_year_start.price|mul:100|div:price_year_start.price > 0 %}
                                                        <span class="change-up">{{ price.price|sub:price_year_start.price|mul:100|div:price_year_start.price|floatformat:2}}</span>
                                                    {% else %}
                                                        <span class="change-none">{{ price.price|sub:price_year_start.price|mul:100|div:price_year_start.price|floatformat:2}}</span>
                                                    {% endif %}
                                                {% else %}
                                                    <span class="change-down">{{ price.price|sub:price_year_start.price|mul:100|div:price_year_start.price|floatformat:2}}</span>
                                                {% endif %}
                                            </p>
                                            <p><strong>EPS:</strong>
                                                {% if statement.net_profit_loss|div:detail.issued_shares >= 0 %}
                                                    {% for detail in share %}
                                                        <span class="change-up">{{ statement.net_profit_loss|div:detail.issued_shares|floatformat:4 }}</span>
                                                    {% endfor %}
                                                {% else %}
                                                    {% for detail in share %}
                                                        <span class="change-down">{{ statement.net_profit_loss|div:detail.issued_shares|floatformat:4 }}</span>
                                                    {% endfor %}
                                                {% endif %}
                                            </p>
                                            <p><strong>Beta: {{corr|div:indices.value__variance|floatformat:2}}</strong>
                                            <p><strong>Div (Yield)(%): {{ dividend_latest.final_dividend|div:price.price|mul:100|floatformat:2 }}</strong>


    <h1>Financial Summary</h1>
    <h2>Income Statement</h2>
    <table class="table table-striped table-bordered table-hover">
                                                        <tr>
                                                            <th></th>
                                                            <th>{{company.country.currency_code}}</th>
                                                        </tr>
                                                        <tr>
                                                            <td>Revenue (million)</td>
                                                            <td class="value">{{statement.total_operating_revenue|div:1000000|floatformat:2|intcomma}}</td>
                                                        </tr>
                                                        <tr>
                                                            <td>Revenue Per Share</td>
                                                            <td class="value">{% for detail in share %}{{ statement.total_operating_revenue|div:detail.issued_shares|floatformat:2 }}{% endfor %}</td>
                                                        </tr>
                                                        <tr>
                                                            <td>Revenue Growth (%)</td>
                                                            <td class="value">{{statement.total_operating_revenue|sub:previous_revenue.total_operating_revenue|div:previous_revenue.total_operating_revenue|mul:100|floatformat:2}}</td>
                                                        </tr>
                                                        <tr>
                                                            <td>Gross Profit (million)</td>
                                                            <td class="value">{{statement.gross_profit_ebitda|div:1000000|floatformat:2|intcomma}}</td>
                                                        </tr>
                                                        <tr>
                                                            <td>Net Income (million)</td>
                                                            <td class="value">{{statement.net_profit_loss|div:1000000|floatformat:2|intcomma}}</td>
                                                        </tr>
                                                        <tr>
                                                            <td>Diluted EPS</td>
                                                            <td class="value">{% for detail in share %}{{ statement.net_profit_loss|div:detail.issued_shares|floatformat:2 }}{% endfor %}</td>
                                                        </tr>
                                                        <tr>
                                                            <td>Earning Growth  (%)</td>
                                                            <td class="value">{{statement.net_profit_loss|sub:previous_revenue.net_profit_loss|div:previous_revenue.net_profit_loss|mul:100|floatformat:2}}</td>
                                                        </tr>
                                                    </table>

    <h2>Balance Sheet</h2>
    <table class="table table-striped table-bordered table-hover">
                                                        <tr>
                                                            <th></th>
                                                            <th>{{company.country.currency_code}}</th>
                                                        </tr>
                                                        <tr>
                                                            <td>Total Cash (million)</td>
                                                            <td class="value">{{statement.total_cash|div:1000000|floatformat:2|intcomma}}</td>
                                                        </tr>
                                                        <tr>
                                                            <td>Total Cash Per Share</td>
                                                            <td class="value">{% for detail in share %}{{ statement.total_cash|div:detail.issued_shares|floatformat:2 }}{% endfor %}</td>
                                                        </tr>
                                                        <tr>
                                                            <td>Total Debt (million)</td>
                                                            <td class="value">{{statement.total_liability|div:1000000|floatformat:2|intcomma}}</td>
                                                        </tr>
                                                        <tr>
                                                            <td>Total Debt/ Equity</td>
                                                            <td class="value">{{statement.total_liability|div:statement.total_equity|floatformat:2}}</td>
                                                        </tr>
                                                        <tr>
                                                            <td>Current Ratio</td>
                                                            <td class="value">{{statement.current_asset|div:statement.current_liability|floatformat:2}}</td>
                                                        </tr>
                                                        <tr>
                                                            <td>Book Value Per Share</td>
                                                            <td class="value">{% for detail in share %}{{ statement.total_equity|div:detail.issued_shares|floatformat:2 }}{% endfor %}</td>
                                                        </tr>
                                                    </table>

    <h2>Cash Flow</h2>
    <table class="table table-striped table-bordered table-hover">
                                                        <tr>
                                                            <th></th>
                                                            <th>{{company.country.currency_code}}</th>
                                                        </tr>
                                                        <tr>
                                                            <td>Operating Cash Flow (million)</td>
                                                            <td class="value">{{statement.operating_cash_flow|div:1000000|floatformat:2|intcomma}}</td>
                                                        </tr>
                                                        <tr>
                                                            <td>Levered Free Cash Flow (million)</td>
                                                            <td class="value">{{statement.operating_cash_flow|add:statement.investing_cash_flow|div:1000000|floatformat:2|intcomma}}</td>
                                                        </tr>
                                                    </table>

    <h2>Profitability</h2>
    <table class="table table-striped table-bordered table-hover">
                                                        <tr>
                                                            <th></th>
                                                            <th>%</th>
                                                        </tr>
                                                        <tr>
                                                            <td>Profit Margin</td>
                                                            <td class="value">{{statement.net_profit_loss|div:statement.total_operating_revenue|floatformat:2}}</td>
                                                        </tr>
                                                        <tr>
                                                            <td>Operating Margin</td>
                                                            <td class="value">{{statement.operating_profit_ebit|div:statement.total_operating_revenue|floatformat:2}}</td>
                                                        </tr>
                                                    </table>

    <h2>Valuations</h2>
    <table class="table table-striped table-bordered table-hover">
                                                        <tr>
                                                            <th></th>
                                                            <th>{{company.country.currency_code}}</th>
                                                        </tr>
                                                        <tr>
                                                            <td>Market Cap (million)</td>
                                                            <td>{{ company.country.currency_code }} {% for detail in share %}{{ detail.issued_shares|mul:price.price|div:1000000|floatformat:2|intcomma }}{% endfor %}</td>
                                                        </tr>
                                                        <tr>
                                                            <td>Enterprise Value (million)</td>
                                                            <td class="value">{{ company.country.currency_code }} {% for detail in share %}{{ detail.issued_shares|mul:price.price|sub:statement.total_cash|div:1000000|floatformat:2|intcomma  }}{% endfor %}</td>
                                                        </tr>
                                                        <tr>
                                                            <td>Trailing P/E </td>
                                                            <td class="value">{% for detail in share %} {{ statement.net_profit_loss|div:detail.issued_shares|floatformat:2 }}{% endfor %}</td>
                                                        </tr>
                                                        <tr>
                                                            <td>Price/Sales</td>
                                                            <td class="value">{% for detail in share %}{{ detail.issued_shares|mul:price.price|div:statement.total_operating_revenue|floatformat:2 }}{% endfor %}</td>
                                                        </tr>
                                                        <tr>
                                                            <td>Price/Book</td>
                                                            <td class="value">{% for detail in share %}{{ detail.issued_shares|mul:price.price|div:statement.total_equity|floatformat:2 }}{% endfor %}</td>
                                                        </tr>
                                                        <tr>
                                                            <td>Enterprise Value/ Revenue</td>
                                                            <td class="value">{% for detail in share %}{{ detail.issued_shares|mul:price.price|sub:statement.total_cash|div:statement.total_operating_revenue|floatformat:2 }}{% endfor %}</td>
                                                        </tr>
                                                        <tr>
                                                            <td>Enterprise Value/ EBITDA</td>
                                                            <td class="value">{% for detail in share %}{{ detail.issued_shares|mul:price.price|sub:statement.total_cash|div:statement.gross_profit_ebitda|floatformat:2 }}{% endfor %}</td>
                                                        </tr>
                                                    </table>


    <h1>Major Products / Services</h1>
    {% for service in products %}
        <p title="{{service.detail}}">{{service}}</p>
    {% empty %}
        <p>No service/product added yet</p>
    {% endfor %}


    <h1>Subsidiaries</h1>
    {% for subsidiary in subsidiaries  %}
        <p>{{ subsidiary.subsidiary_name }} ({{ subsidiary.ownership_pct }} %)</p>
    {% empty %}
        <p>No subsidiary added yet</p>
    {% endfor %}

    <h1>Charts</h1>
    <h2>Share Price</h2>
    <div id="price_chart"></div>


                                                      <script>
                                                        const latest_trading_day = '{{share_price_latest.date}}';


                                                        const one_month = '{{one_month}}';


                                                        const six_month = '{{six_month}}';


                                                        const one_year = '{{one_year}}';

                                                        const share_price_first = '{{share_price_first}}';

                                                        const dates = [{% for price in share_price %} Date.parse('{{price.date}}'),{% endfor %}]


                                                        const prices = [{% for price in share_price %} {{price.price}}, {% endfor %}]

                                                        var data = dates.map(function(e, i){
                                                            return [e, prices[i]];
                                                        });

                                                        const series = {
                                                            "dataSeries": {
                                                              "dates": [{% for price in share_price %} '{{price.date|date:"D M, Y" }}', {% endfor %}],
                                                              "prices": [{% for price in share_price %} {{price.price}}, {% endfor %}]
                                                            }
                                                          }

                                                          var options = {
                                                          series: [{
                                                          name: "Share Price",
                                                          data: data
                                                        }],
                                                          chart: {
                                                          id: 'area-datetime',
                                                          type: 'area',
                                                          height: 350,
                                                          zoom: {
                                                            autoScaleYaxis: true
                                                          }
                                                        },
                                                        annotations: {
                                                          yaxis: [{
                                                            y: 30,
                                                            borderColor: '#999',
                                                            label: {
                                                              show: true,
                                                              style: {
                                                                color: "#fff",
                                                                background: '#00E396'
                                                              }
                                                            }
                                                          }],
                                                          xaxis: [{
                                                            x: new Date('{{share_price_first}}').getTime(),
                                                            borderColor: '#999',
                                                            yAxisIndex: 0,
                                                            label: {
                                                              show: true,
                                                              style: {
                                                                color: "#fff",
                                                                background: '#775DD0'
                                                              }
                                                            }
                                                          }]
                                                        },
                                                        dataLabels: {
                                                          enabled: false
                                                        },
                                                        markers: {
                                                          size: 0,
                                                          style: 'hollow',
                                                        },
                                                        xaxis: {
                                                          type: 'datetime',
                                                          min: new Date('{{share_price_first}}').getTime(),
                                                          tickAmount: 6,
                                                        },
                                                        tooltip: {
                                                          x: {
                                                            format: 'dd MMM yyyy',
                                                          }
                                                        },
                                                        fill: {
                                                          type: 'gradient',
                                                          gradient: {
                                                            shadeIntensity: 1,
                                                            opacityFrom: 0.7,
                                                            opacityTo: 0.9,
                                                            stops: [0, 100]
                                                          }
                                                        },
                                                        };

                                                        var price_chart = new ApexCharts(document.querySelector("#price_chart"), options);
                                                        price_chart.render();

                                                        var resetCssClasses = function(activeEl) {
                                                            var els = document.querySelectorAll('button')
                                                            Array.prototype.forEach.call(els, function(el) {
                                                              el.classList.remove('active')
                                                            })

                                                            activeEl.target.classList.add('active')
                                                          }

                                                          document.querySelector('#one_month').addEventListener('click', function(e) {
                                                              resetCssClasses(e)

                                                              price_chart.zoomX(
                                                                new Date(one_month).getTime(),
                                                                new Date(latest_trading_day).getTime()
                                                              )
                                                            })

                                                          document.querySelector('#six_months').addEventListener('click', function(e) {
                                                              resetCssClasses(e)

                                                              price_chart.zoomX(
                                                                new Date(six_month).getTime(),
                                                                new Date(latest_trading_day).getTime()
                                                              )
                                                            })

                                                          document.querySelector('#one_year').addEventListener('click', function(e) {
                                                              resetCssClasses(e)
                                                              price_chart.zoomX(
                                                                new Date(one_year).getTime(),
                                                                new Date(latest_trading_day).getTime()
                                                              )
                                                            })

                                                          document.querySelector('#ytd').addEventListener('click', function(e) {
                                                            resetCssClasses(e)

                                                            price_chart.zoomX(
                                                              new Date('2023-01-01').getTime(),
                                                              new Date(latest_trading_day).getTime()
                                                            )
                                                          })

                                                          document.querySelector('#all').addEventListener('click', function(e) {
                                                            resetCssClasses(e)

                                                            price_chart.zoomX(
                                                              new Date(share_price_first).getTime(),
                                                              new Date().getTime(),
                                                            )
                                                          });
                                                      </script>
                                                        <!-- End Area Chart -->

    <h2>Bar Chart</h2>
    <p>Share Price Candle for 5 years</p>

    <h2>Radar Chart</h2>
    <div id="radar"></div>
                                                        <script>
                                                            var options = {
                                                                  series: [{
                                                                  name: 'Net Income (Loss)',
                                                                  data: [{% for report in statements %} {{report.net_profit_loss|div:1000000}}, {% endfor %}],
                                                                }, {
                                                                  name: 'Operating Cash Flow',
                                                                  data: [{% for report in statements %} {{report.operating_cash_flow|div:1000000}}, {% endfor %}],
                                                                }, {
                                                                  name: 'Revenue',
                                                                  data: [{% for report in statements %} {{report.total_operating_revenue|div:1000000}}, {% endfor %}],
                                                                }],
                                                                  chart: {
                                                                  height: 350,
                                                                  type: 'radar',
                                                                  dropShadow: {
                                                                    enabled: true,
                                                                    blur: 1,
                                                                    left: 1,
                                                                    top: 1
                                                                  }
                                                                },
                                                                title: {
                                                                  text: 'Radar Chart - Financial Statement Summary'
                                                                },
                                                                stroke: {
                                                                  width: 2
                                                                },
                                                                fill: {
                                                                  opacity: 0.1
                                                                },
                                                                markers: {
                                                                  size: 0
                                                                },
                                                                xaxis: {
                                                                  categories: [{% for report in statements %} {{report.file.year|date:"Y"}}, {% endfor %}]
                                                                }
                                                                };

                                                                var chart = new ApexCharts(document.querySelector("#radar"), options);
                                                                chart.render();
                                                        </script>


    <h1>Key People</h1>
        {% for people in key_people %}
            <p>{{ people.position }} - {{ people.name }}  </p>
    {% empty %}
        No person listed here
    {% endfor %}


    <h1>Stock Price History for the past month</h1>
    <table class="table table-bordered table-striped table-hover" id="dataTable" width="70%" cellspacing="0">
        <thead>
        <tr>
            <th>Date</th>
            <th>Close</th>
            <th>Volume</th>
            <th>Traded Value</th>
        </tr>
        </thead>
        <tbody>
        {% for price in share_price %}
        <tr>
            <td>{{ price.date|date:"Y/m/d" }}</td>
            <td>{{ price.price }}</td>
            <td>{{ price.volume }}</td>
            <td>{{ price.volume|mul:price.price }}</td>
        </tr>
        {% endfor %}
        </tbody>
    </table>

    <h1>Share Listing Details</h1>
    {% for detail in share %}
        <p><strong>Issued Shares:</strong> {{ detail.issued_shares|intcomma }}</p>
        {% if detail.stated_capital%} <p><strong>Stated Capital:</strong> {{ detail.stated_capital|intcomma }}</p> {% endif %}
        {% if detail.listed_date%} <p><strong>Listed Date:</strong> {{ detail.listed_date }}</p> {% endif %}
        {% if detail.financial_period_ends%} <p><strong>Financial Year Ends:</strong> {{ detail.financial_period_ends }}</p> {% endif %}
    {% endfor %}

    <h1>Latest Dividend</h1>
    {% for dividend in dividends %}
    <p><strong>Final Dividend:</strong> GHS {{ dividend.final_dividend|floatformat:2 }} </p>
    <p><strong>Qualifying Date:</strong> {{ dividend.qualifying_date }} </p>
    <p><strong>Register Closure:</strong> {{ dividend.register_closure }}</p>
    <p><strong>Ex Dividend Date:</strong> {{ dividend.ex_dividend_date }}</p>
    <p><strong>Payment Date:</strong> {{ dividend.payment_date }}</p>
    <p><strong>AGM Date:</strong> {{ dividend.agm }}</p>

<!--<h6></h6><a href="{% url 'company_dividend_details' company.id %}"></a></h6>-->
    {% empty %}
    <p><strong>{{ company.company_id }} is yet to pay dividend</strong></p>
    {% endfor %}

    <h2>Dividend</h2>
    {% for split in share_splits %}
        <p><strong>{{split}}</strong></p>
    {% empty %}
        <p>{{ company.company_id }} has never paid dividend</p>
    {% endfor %}
    <p>Bar Chart for the last 5 financial year</p>

    <h2>Share Split</h2>
    {% for split in share_splits %}
        <p><strong>{{split}}</strong></p>
    {% empty %}
        <p>{{ company.company_id }} has no share spilts</p>
    {% endfor %}

    <h1>Listing Information</h1>
    {% for ipo in ipos %}
        <p><strong>Prospectus:</strong><a href="{{ ipo.prospectus.url }}" target="_blank"> Prospectus  </a><i class="fas fa-download"></i></p>
        <p><strong>First Trading Date:</strong> {{ ipo.ipo_date }} </p>
        <p><strong>IPO Share Price:</strong> GHS {{ ipo.ipo_price }}</p>
    {% endfor %}

    <h1>Shareholders List</h1>
    <p>Largest 20 shareholders of {{ company.name }}</p>
    {% if ownership %}
        <table class="table table-bordered table-hover table-striped" width="40%" cellspacing="0">
                                                <thead>
                                                    <tr>
                                                        <th>Shareholders</th>
                                                        <th>Number of Shares</th>
                                                        <th>Percentage Holding (%)</th>
                                                    </tr>
                                                </thead>
                                                <tfoot>
                                                    <tr>
                                                        <th>Total</th>
                                                        <th>{% for detail in share %} {{ detail.issued_shares|intcomma }}{% endfor %}</th>
                                                        <th>100 (%)</th>
                                                    </tr>
                                                </tfoot>
                                                <tbody>
                                                {% for shareholder in ownership %}
                                                    <tr>
                                                        <td>{{ shareholder.shareholder_name }}</td>
                                                        <td>{{ shareholder.shares_owned|intcomma }}</td>
                                                        <td>{{ shareholder.percentage_holding }}</td>
                                                    </tr>
                                                {% endfor %}
                                                </tbody>
                                            </table>
    {% else %}
        No Ownership Details Added Yet
    {% endif %}

    <h1>Technical Analysis</h1>

    <h3>Moving Averages (Days)</h3>
    <table class="table table-striped table-bordered">
                                                        <thead>
                                                            <tr>
                                                                <th>Period (Days)</th>
                                                                <th>Simple</th>
                                                                <th>Action</th>
                                                            </tr>
                                                        </thead>
                                                          <tbody>
                                                            <tr>
                                                                <th>5</th>
                                                                <td>{{ma5.price__avg|floatformat:2}}</td>
                                                                <td></td>
                                                            </tr>
                                                          <tr>
                                                                <th>10</th>
                                                                <td>{{ma5.price__avg|floatformat:2}}</td>
                                                                <td></td>
                                                            </tr>
                                                          <tr>
                                                                <th>20</th>
                                                                <td>{{ma5.price__avg|floatformat:2}}</td>
                                                                <td></td>
                                                            </tr>
                                                          <tr>
                                                                <th>50</th>
                                                                <td>{{ma50.price__avg|floatformat:2}}</td>
                                                                <td></td>
                                                            </tr>
                                                          <tr>
                                                                <th>100</th>
                                                                <td>{{ma100.price__avg|floatformat:2}}</td>
                                                                <td></td>
                                                            </tr>
                                                        </tbody>
                                                      </table>

    <h3>Technical Indicators (Days)</h3>
    <table class="table table-striped table-bordered">
                                                        <thead>
                                                            <tr>
                                                                <th>Name</th>
                                                                <th>Value</th>
                                                                <th>Action</th>
                                                            </tr>
                                                        </thead>
                                                          <tbody>
                                                            <tr>
                                                                <th>RSI(14)</th>
                                                                <td></td>
                                                                <td></td>
                                                            </tr>
                                                          <tr>
                                                                <th>MACD(12,26)</th>
                                                                <td></td>
                                                                <td></td>
                                                            </tr>
                                                          <tr>
                                                                <th>ATR(14)</th>
                                                                <td></td>
                                                                <td></td>
                                                            </tr>
                                                          <tr>
                                                                <th>CCI(14)</th>
                                                                <td></td>
                                                                <td></td>
                                                            </tr>
                                                          <tr>
                                                                <th>Highs/Lows(14)</th>
                                                                <td>{{high_14.price__max|floatformat:2}}/{{low_14.price__min|floatformat:2}}</td>
                                                                <td></td>
                                                            </tr>
                                                        </tbody>
                                                      </table>


    <h1>Contact Information</h1>
    <p><strong>Telephone:</strong> {{ company.telephone }}</p>
    <p><strong>Email:</strong> {{ company.email }}</p>
    <p><strong>Website:</strong> {{ company.website }}</p>

        <!-- Bootstrap core JavaScript-->
    <script src="{% static 'vendor/jquery/jquery.min.js' %}"></script>
    <script src="{% static 'vendor/bootstrap/js/bootstrap.bundle.min.js' %}"></script>

    <!-- Core plugin JavaScript-->
    <script src="{% static 'vendor/jquery-easing/jquery.easing.min.js' %}"></script>

    <!-- Custom scripts for all pages-->
    <script src="{% static 'js/sb-admin-2.min.js' %}"></script>
    <script src="{% static 'js/added.js' %}"></script>

    <!-- Page level plugins -->
    <script src="{% static 'vendor/chart.js/Chart.min.js' %}"></script>

    <script src="{% static 'vendor/apexcharts/apexcharts.min.js' %}"></script>

<!--    <script src="{% static 'vendor/echarts/echarts.min.js' %}"></script>-->

    <script src="https://cdn.jsdelivr.net/npm/echarts/dist/echarts.min.js"></script>

    <script src="{% static 'vendor/simple-datatables/simple-datatables.js' %}"></script>


</body>
</html>