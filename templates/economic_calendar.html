{% extends 'base.html' %}
{% load mathfilters %}
{% load humanize %}
{% load static %}

{% block title %} Calendar  {% endblock %}

{% block content %}

<!-- Begin Page Content -->
                <div class="container-fluid">

                   <div class="row">
                        <div class="col-12">
                            <div class="card border-left-primary shadow h-100 py-2">
                                <div class="card-body">
                                    <div class="row no-gutters align-items-center">
                                        <div class="col mr-2">
                                            <div class="h5 mb-0 font-weight-bold text-gray-800">{{ country.name }}</div>
                                            <div class="text-xs font-weight-bold text-primary text-uppercase mb-1">
                                                <h5>Calendar</h5>
                                            </div>
                                        </div>
                                        <div class="col-auto">
                                            <i class="fas fa-calendar-alt fa-2x text-gray-300"></i>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>

                    <br>

                    <div class="row">

                        <div class="col-lg-8">

                            <!-- Default Card Example -->
                            <div class="card mb-4">
                                <div class="card-header py-3">
                                    <h6 class="m-0 font-weight-bold text-primary"></h6>
                                </div>
                                <div class="card-body text text-center">
                                    <ul class="nav nav-tabs" id="myTab" role="tablist">
                                      <li class="nav-item">
                                        <a class="nav-link active" id="home-tab" data-toggle="tab" href="#home" role="tab" aria-controls="home" aria-selected="true">Economic</a>
                                      </li>
                                      <li class="nav-item">
                                        <a class="nav-link" id="contact-tab" data-toggle="tab" href="#contact" role="tab" aria-controls="contact" aria-selected="false">Dividend</a>
                                      </li>
                                        <li class="nav-item">
                                        <a class="nav-link" id="technical-tab" data-toggle="tab" href="#technical" role="tab" aria-controls="contact" aria-selected="false">Annual General Meetings</a>
                                      </li>
                                    </ul>
                                    <div class="tab-content" id="myTabContent">
                                        <div class="tab-pane fade show active pt-2" id="home" role="tabpanel" aria-labelledby="home-tab">
                                            <table class="table table-striped table-bordered  text text-center">
                                                        <thead>
                                                            <tr>
                                                                <th>Time</th>
                                                                <th>Country</th>
                                                                <th>Event</th>
                                                                <th>Actual</th>
                                                                <th>Forecast</th>
                                                                <th>Previous</th>
                                                                <th>File</th>
                                                            </tr>
                                                        </thead>
                                                          <tbody>
                                                            {% for event in economic_calendar%}
                                                                <tr>
                                                                    <th>{{event.time|date:"G:h:i"}}</th>
                                                                    <td><a href="{% url 'country' event.country.slug%}">{{event.country}}</a></td>
                                                                    <th>{{event.event}}</th>
                                                                    <td>{{event.actual}}</td>
                                                                    <td>{{event.forecast}}</td>
                                                                    <td>{{event.previous}}</td>
                                                                    <td><a href="{{ event.file.url }}">File</a></td>
                                                                </tr>
                                                            {% empty %}
                                                                <tr>
                                                                    No Economic Event
                                                                </tr>
                                                            {% endfor %}
                                                        </tbody>
                                                      </table>
                                        </div>
                                        <div class="tab-pane fade pt-2" id="contact" role="tabpanel" aria-labelledby="contact-tab">
                                            <table class="table table-striped table-bordered text text-center">
                                                        <thead>
                                                            <tr>
                                                                <th>Payment Date</th>
                                                                <th>Company</th>
                                                                <th>Final (GHS)</th>
                                                                <th>Qualifying Date</th>
                                                                <th>Closure Date</th>
                                                                <th>Ex Date</th>
                                                                <th>File</th>
                                                            </tr>
                                                        </thead>
                                                          <tbody>
                                                            {% for dividend in dividend_calendar %}
                                                                <tr>
                                                                    <th>{{dividend.payment_date|date:"d M"}}</th>
                                                                    <td><a href="{{ dividend.company.get_absolute_url }}">{{dividend.company.company_id}}</a></td>
                                                                    <th>{{dividend.final_dividend}}</th>
                                                                    <td>{{dividend.qualifying_date|date:"d M"}}</td>
                                                                    <th>{{dividend.register_closure|date:"d M"}}</th>
                                                                    <td>{{dividend.ex_dividend_date|date:"d M"}}</td>
                                                                    <td><a href="">File</a></td>
                                                                </tr>
                                                            {% endfor %}
                                                        </tbody>
                                                      </table>
                                        </div>
                                        <div class="tab-pane fade pt-2" id="technical" role="tabpanel" aria-labelledby="technical-tab">
                                            <table class="table table-striped table-bordered text text-center">
                                                        <thead>
                                                            <tr>
                                                                <th>Date</th>
                                                                <th>Company</th>
                                                                <th>Time</th>
                                                                <th>Venue</th>
                                                            </tr>
                                                        </thead>
                                                          <tbody>
                                                            {% for agm in agm_calendar %}
                                                                <tr>
                                                                    <th>{{agm.date}}</th>
                                                                    <td><a href="{{ agm.company.get_absolute_url }}">{{agm.company}}</a></td>
                                                                    <th>{{agm.time}}</th>
                                                                    <td>{{agm.venue}}</td>
                                                                </tr>
                                                          {% empty %}
                                                          {% endfor %}
                                                        </tbody>
                                                      </table>
                                        </div>
                                    </div>
                                </div>
                            </div>

                            <!-- Basic Card Example -->
                            <div class="card shadow mb-4">
                                <div class="card-header py-3">
                                    <h6 class="m-0 font-weight-bold text-primary">News / Latest Stories</h6>
                                </div>
                                <div class="card-body">
                                </div>
                            </div>

                        </div>

                        <div class="col-lg-4">

                            <!-- Dropdown Card Example -->
                            <div class="card shadow mb-4">
                                <!-- Card Header - Dropdown -->
                                <div
                                    class="card-header py-3 d-flex flex-row align-items-center justify-content-between">
                                    <h6 class="m-0 font-weight-bold text-primary">Latest Info</h6>
                                </div>
                                <!-- Card Body -->
                                <div class="card-body">

                                </div>
                            </div>

                            <div class="card shadow mb-4">
                                <!-- Card Header - Dropdown -->
                                <div
                                    class="card-header py-3 d-flex flex-row align-items-center justify-content-between">
                                    <h6 class="m-0 font-weight-bold text-primary">Time Zones</h6>
                                </div>
                                <!-- Card Body -->
                                <div class="card-body">

                                </div>
                            </div>


                            <!-- Dropdown Card Example -->
                            <div class="card shadow mb-4">
                                <!-- Card Header - Dropdown -->
                                <div
                                    class="card-header py-3 d-flex flex-row align-items-center justify-content-between">
                                    <h6 class="m-0 font-weight-bold text-primary">Press Releases</h6>
                                </div>
                                <!-- Card Body -->
                                <div class="card-body">
                                    <div class="text">

                                    </div>
                                </div>
                            </div>


                            <div class="card shadow mb-4">
                                <!-- Card Header - Dropdown -->
                                <div
                                    class="card-header py-3 d-flex flex-row align-items-center justify-content-between">
                                    <h6 class="m-0 font-weight-bold text-primary">Related Indices</h6>
                                </div>
                                <!-- Card Body -->
                                <div class="card-body">

                                </div>
                            </div>

                        </div>

                    </div>

                </div>
                <!-- /.container-fluid -->

{% endblock %}
{% block script %}
<!-- Page level plugins -->
    <script src="{% static 'vendor/datatables/jquery.dataTables.min.js' %}"></script>
    <script src="{% static 'vendor/datatables/dataTables.bootstrap4.min.js' %}"></script>

    <!-- Page level custom scripts -->
    <script src="{% static 'js/demo/datatables-demo.js' %}"></script>
{% endblock %}